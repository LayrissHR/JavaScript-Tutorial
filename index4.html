<!DOCTYPE html>
<html lang="bg">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Интерактивен Урок: JavaScript и HTML - Ниво 3</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
        scroll-behavior: smooth;
        background-color: #f3f4f6;
        background-image: radial-gradient(#d1d5db 0.5px, transparent 0.5px),
          radial-gradient(#d1d5db 0.5px, #f3f4f6 0.5px);
        background-size: 20px 20px;
        background-position: 0 0, 10px 10px;
      }
      .content-card {
        background-color: white;
        border-radius: 12px;
        padding: 2rem;
        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05),
          0 2px 4px -2px rgb(0 0 0 / 0.05);
        margin-bottom: 2rem;
      }
      .task-box {
        background-color: #fffbeb;
        border-left: 4px solid #facc15;
        padding: 1rem;
        margin: 1rem 0;
        border-radius: 0 8px 8px 0;
      }
      .fun-fact {
        background-color: #ecfdf5;
        border-left: 4px solid #34d399;
        padding: 1rem;
        margin: 1rem 0;
        border-radius: 0 8px 8px 0;
      }
      .advanced-box {
        background-color: #f0f9ff;
        border-left: 4px solid #38bdf8;
        padding: 1.5rem;
        margin: 2rem 0;
        border-radius: 0 8px 8px 0;
      }
      pre {
        background-color: #1f2937;
        color: #d1d5db;
        padding: 1.5rem;
        border-radius: 8px;
        overflow-x: auto;
        font-size: 0.9em;
        position: relative;
      }
      .copy-btn {
        position: absolute;
        top: 12px;
        right: 12px;
        background-color: #4b5563;
        color: white;
        border: none;
        padding: 0.25rem 0.75rem;
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.8em;
        opacity: 0.6;
        transition: all 0.2s ease-in-out;
      }
      pre:hover .copy-btn {
        opacity: 1;
      }
      .copy-btn:hover {
        background-color: #6b7280;
      }
      .prose h2 {
        margin-top: 2rem;
        border-bottom: 1px solid #e5e7eb;
        padding-bottom: 0.5rem;
        scroll-margin-top: 80px;
      }
      .prose h3 {
        margin-top: 2.5rem;
        scroll-margin-top: 80px;
      }
      .nav-item {
        transition: all 0.2s ease-in-out;
      }
      .nav-item:hover {
        transform: translateY(-2px);
        color: #3b82f6;
      }
      .animated-box {
        width: 80px;
        height: 80px;
        background-color: #818cf8;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
      }
      .nav-buttons-container {
        display: flex;
        justify-content: space-between;
        margin-top: 3rem;
        padding-top: 1.5rem;
        border-top: 1px solid #d1d5db;
      }
      .nav-button {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.75rem 1.5rem;
        border-radius: 0.5rem;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.2s ease-in-out;
        box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1),
          0 1px 2px -1px rgb(0 0 0 / 0.1);
      }
      .nav-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1),
          0 2px 4px -2px rgb(0 0 0 / 0.1);
      }
      .nav-button.prev {
        background-color: #e5e7eb;
        color: #4b5563;
        cursor: not-allowed;
      }
      .nav-button.next {
        background-color: #3b82f6;
        color: white;
      }

      /* Styles for collapsible tasks */
      details {
        background-color: #fff;
        border-radius: 8px;
        margin-bottom: 0.5rem;
        box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        border: 1px solid #e5e7eb;
        transition: box-shadow 0.3s ease;
      }
      details:hover {
        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1),
          0 2px 4px -2px rgb(0 0 0 / 0.1);
      }
      summary {
        cursor: pointer;
        padding: 1rem 1.5rem;
        font-weight: 600;
        list-style: none;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      summary::-webkit-details-marker {
        display: none;
      }
      summary::after {
        content: "▼";
        font-size: 0.8em;
        transition: transform 0.3s ease;
      }
      details[open] > summary {
        border-bottom: 1px solid #e5e7eb;
      }
      details[open] > summary::after {
        transform: rotate(180deg);
      }
      .task-content {
        padding: 1.5rem;
        font-size: 0.95em;
      }
    </style>
  </head>
  <body class="text-gray-800">
    <nav class="bg-white/80 backdrop-blur-md shadow-md sticky top-0 z-50">
      <div class="container mx-auto max-w-5xl px-4">
        <div class="flex items-center justify-between h-16">
          <span class="text-xl font-bold text-gray-800">JS Урок</span>
          <div class="flex space-x-4 md:space-x-8 text-gray-600 font-medium">
            <a href="#intro" class="nav-item">Въведение</a>
            <a href="#ways-to-add" class="nav-item">Основи</a>
            <a href="#advanced" class="nav-item">За напреднали</a>
            <a href="#final-tasks" class="nav-item">Задачи</a>
          </div>
        </div>
      </div>
    </nav>

    <div class="container mx-auto max-w-4xl px-4 py-8 md:py-12">
      <header class="text-center mb-12">
        <div
          class="inline-block bg-blue-100 text-blue-800 p-4 rounded-full mb-4 shadow-sm"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-12 w-12"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"
            />
          </svg>
        </div>
        <h1 class="text-4xl md:text-5xl font-bold text-gray-900">
          Интерактивен Урок: JavaScript и HTML
        </h1>
        <p class="mt-4 text-lg text-gray-600">
          Научете как да вдъхнете живот на уеб страниците си!
        </p>
      </header>

      <main class="prose prose-lg max-w-none">
        <div class="content-card">
          <section id="intro">
            <h2>Какво е JavaScript и защо ни е нужен?</h2>
            <p>
              Представете си, че HTML е скелетът на една къща - той определя
              структурата. CSS са боята и мебелите - правят къщата да изглежда
              добре. А
              <strong>JavaScript е електрическата инсталация и уредите</strong>
              - той добавя функционалност и интерактивност.
            </p>
            <p>
              Накратко, JS е език за програмиране, който позволява на уеб
              страниците да реагират на действията на потребителя. Без него
              интернет би бил просто колекция от статични документи.
            </p>
            <div class="fun-fact">
              <p class="font-bold">Забавен факт:</p>
              <p>
                JavaScript няма почти нищо общо с езика Java! Името е било
                маркетингов трик през 90-те години, за да се възползва от
                популярността на Java по онова време.
              </p>
            </div>
          </section>
        </div>

        <div class="content-card">
          <section id="ways-to-add">
            <h2>Трите начина да добавим JavaScript към HTML</h2>
            <p>
              Има три основни начина да "свържем" нашия JavaScript код с HTML
              документа. Нека ги разгледаме един по един.
            </p>

            <h3>1. Вграден (Inline) JavaScript</h3>
            <p>
              Кодът се пише директно в атрибут на HTML елемент.
              <strong>Избягвайте този метод</strong> в реални проекти, но е
              добре да го разпознавате, защото е най-бързият начин за прост
              тест.
            </p>
            <button
              onclick="alert('Здравей, свят!')"
              class="bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-700 transition duration-300"
            >
              Натисни ме!
            </button>
            <h4>Кодът:</h4>
            <pre><code>&lt;button onclick="alert('Здравей, свят!')"&gt;Натисни ме!&lt;/button&gt;</code></pre>
            <h4>Обяснение ред по ред:</h4>
            <ul>
              <li>
                <code>&lt;button&gt;...&lt;/button&gt;</code>: Стандартен HTML
                таг, който създава кликаем бутон.
              </li>
              <li>
                <code>onclick="..."</code>: Това е
                <strong>атрибут за събитие</strong>. Казва на браузъра: "Когато
                някой кликне (on click) на този елемент, изпълни JavaScript кода
                в кавичките".
              </li>
              <li>
                <code>alert('Здравей, свят!')</code>: Проста JavaScript функция,
                която показва изскачащ прозорец (alert) със съобщение.
              </li>
            </ul>

            <h3 class="!mt-12">
              2. Вътрешен (Internal) JavaScript с тага &lt;script&gt;
            </h3>
            <p>
              Много по-подреден начин. Кодът се поставя в
              <code>&lt;script&gt;</code> таг, най-често точно преди затварящия
              <code>&lt;/body&gt;</code> таг. Това гарантира, че целият HTML е
              зареден, преди скриптът да се опита да го манипулира.
            </p>

            <h4>Пример: Промяна на текст с бутон</h4>
            <p id="text-to-change" class="p-4 bg-gray-200 rounded-md border">
              Този текст ще се промени.
            </p>
            <button
              id="changeTextBtn"
              class="bg-green-500 text-white font-bold py-2 px-4 rounded hover:bg-green-700 transition duration-300 mt-2"
            >
              Промени текста
            </button>
            <h4>Кодът (HTML и JS):</h4>
            <pre><code>&lt;!-- HTML част --&gt;
&lt;p id="text-to-change"&gt;...&lt;/p&gt;
&lt;button id="changeTextBtn"&gt;...&lt;/button&gt;

&lt;!-- JavaScript част --&gt;
&lt;script&gt;
  const changeTextBtn = document.getElementById('changeTextBtn');
  const textToChange = document.getElementById('text-to-change');

  changeTextBtn.addEventListener('click', function() {
    textToChange.textContent = 'Текстът се промени!';
  });
&lt;/script&gt;</code></pre>
            <h4>Обяснение ред по ред:</h4>
            <ul>
              <li>
                <code>const changeTextBtn = ...</code>: Създаваме константа
                (променлива, която не се променя) и в нея запазваме HTML
                елемента на бутона, който намираме по неговото <code>id</code>.
              </li>
              <li>
                <code>document.getElementById('...')</code>: Метод, който
                претърсва HTML и намира елемента с даденото уникално ID.
              </li>
              <li>
                <code>changeTextBtn.addEventListener(...)</code>: Прикачаме
                "слушател за събития" към бутона. Той чака за определено събитие
                - в случая <code>'click'</code>.
              </li>
              <li>
                <code>function() { ... }</code>: Това е анонимна функция
                (функция без име), която се изпълнява, когато събитието се
                случи.
              </li>
              <li>
                <code>textToChange.textContent = '...'</code>: Променяме
                текстовото съдържание на параграфа с нов текст.
              </li>
            </ul>

            <h3 class="!mt-12">3. Външен (External) JavaScript файл</h3>
            <p>
              <strong>Това е най-добрата практика.</strong> Кодът се пише в
              отделен файл (<code>.js</code>) и се свързва с HTML документа.
            </p>
            <h4>Кодът:</h4>
            <pre><code>&lt;!-- Свързване на външен JS файл, най-добре преди &lt;/body&gt; --&gt;
&lt;script src="път/до/вашия/script.js" defer&gt;&lt;/script&gt;</code></pre>
            <h4>Обяснение ред по ред:</h4>
            <ul>
              <li>
                <code>&lt;script&gt;...&lt;/script&gt;</code>: Тагът, който
                казва на браузъра, че тук има скрипт.
              </li>
              <li>
                <code>src="..."</code>: Атрибутът <code>src</code> (source)
                указва пътя до външния <code>.js</code> файл.
              </li>
              <li>
                <code>defer</code>: Изключително важен атрибут! Той казва на
                браузъра да изтегли скрипта паралелно със зареждането на HTML,
                но да го изпълни чак след като целият HTML е готов. Това
                осигурява бързо зареждане на страницата.
              </li>
            </ul>
          </section>
        </div>

        <section id="advanced" class="content-card advanced-box !p-8">
          <h2 class="!mt-0 !border-blue-300">
            За по-напреднали: Манипулация на DOM и Събития
          </h2>
          <p>
            След като знаете как да изберете елемент по ID, е време да
            разгледаме по-мощни инструменти.
          </p>

          <h3>По-мощни селектори: `querySelector`</h3>
          <p>
            <code>document.querySelector()</code> връща
            <strong>първия</strong> елемент, който отговаря на подадения CSS
            селектор. Много е гъвкав!
          </p>
          <h4>Интерактивен пример:</h4>
          <p>
            Напишете CSS селектор в полето. Опитайте с: <code>#advanced</code>,
            <code>.fun-fact</code>, <code>h2</code>, <code>.task-box p</code>
          </p>
          <div class="flex items-center space-x-2 my-4">
            <input
              type="text"
              id="selectorInput"
              placeholder="Въведете CSS селектор..."
              class="border p-2 rounded w-full"
            />
            <button
              id="applyStyleBtn"
              class="bg-sky-500 text-white font-bold py-2 px-4 rounded hover:bg-sky-700 transition"
            >
              Приложи
            </button>
          </div>

          <h3>Създаване и премахване на елементи</h3>
          <p>
            JavaScript може да създава HTML елементи "от въздуха" и да ги добавя
            към страницата.
          </p>

          <h4>Интерактивен To-Do List:</h4>
          <div class="p-4 bg-white rounded-lg shadow-inner">
            <div class="flex space-x-2">
              <input
                type="text"
                id="todoInput"
                placeholder="Нова задача..."
                class="border p-2 rounded w-full"
              />
              <button
                id="addTodoBtn"
                class="bg-indigo-500 text-white font-bold py-2 px-4 rounded hover:bg-indigo-700 whitespace-nowrap"
              >
                Добави +
              </button>
            </div>
            <ul id="todoList" class="mt-4 space-y-2"></ul>
          </div>

          <h3>Разнообразие от събития</h3>
          <p>
            Освен <code>'click'</code>, има много други полезни събития:
            <code>mouseover</code>, <code>keydown</code>, <code>input</code>,
            <code>submit</code> и др.
          </p>
          <h4>Пример с `mouseover`:</h4>
          <div
            id="hoverBox"
            class="animated-box flex items-center justify-center text-white text-center p-2"
          >
            Мини с мишката отгоре!
          </div>
        </section>

        <div class="content-card">
          <section id="final-tasks">
            <h2>Време за практика! Самостоятелни задачи</h2>
            <p>Кликнете върху всяка задача, за да видите условието.</p>

            <div class="mt-6 space-y-2">
              <details>
                <summary>1. Смяна на цвят</summary>
                <div class="task-content">
                  Създайте бутон и параграф. При кликване на бутона, цветът на
                  текста в параграфа трябва да стане червен. (<em
                    >Подсказка:</em
                  >
                  <code>елемент.style.color = 'red';</code>)
                </div>
              </details>
              <details>
                <summary>2. Скриване и показване</summary>
                <div class="task-content">
                  Създайте картинка и един-единствен бутон "Превключи
                  видимостта". При всяко кликване, картинката трябва да се
                  скрива, ако е видима, и да се показва, ако е скрита. (<em
                    >Подсказка:</em
                  >
                  Проверявайте текущата стойност на
                  <code>element.style.display</code>).
                </div>
              </details>
              <details>
                <summary>3. Брояч на кликове</summary>
                <div class="task-content">
                  Създайте бутон и параграф "Брой кликове: 0". При всяко
                  натискане на бутона, числото да се увеличава с 1.
                </div>
              </details>
              <details>
                <summary>4. Поздрави потребителя</summary>
                <div class="task-content">
                  Създайте поле за въвеждане и бутон. Когато потребителят въведе
                  името си и натисне бутона, да се показва съобщение "Здравей,
                  [името]!".
                </div>
              </details>
              <details>
                <summary>5. "Крушка"</summary>
                <div class="task-content">
                  Намерете URL-и на две картинки - светната и изгасена крушка.
                  Направете един бутон, който "превключва" между двете картинки.
                  (<em>Подсказка:</em> променяйте <code>src</code> атрибута на
                  <code>&lt;img&gt;</code>).
                </div>
              </details>
              <details>
                <summary>6. Проверка на парола в реално време</summary>
                <div class="task-content">
                  Създайте две полета за парола. Докато потребителят пише,
                  проверявайте дали съвпадат. Ако да, оцветете рамките им в
                  зелено, ако не - в червено. (<em>Подсказка:</em> използвайте
                  събитието <code>'input'</code> и
                  <code>element.style.borderColor</code>).
                </div>
              </details>
              <details>
                <summary>7. Генератор на произволен цвят</summary>
                <div class="task-content">
                  Създайте бутон. При клик, фонът на страницата
                  (<code>document.body</code>) да се сменя с произволен цвят.
                </div>
              </details>
              <details>
                <summary>8. По-добър To-Do List</summary>
                <div class="task-content">
                  Разширете примера от урока. Направете така, че при кликване
                  върху вече добавена задача, тя да се зачертава, а при повторно
                  кликване - зачертаването да изчезва.
                </div>
              </details>
              <details>
                <summary>9. Брояч на символи</summary>
                <div class="task-content">
                  Създайте <code>&lt;textarea&gt;</code> и параграф под него.
                  Докато потребителят пише в полето, в параграфа да се изписва
                  броят на въведените символи в реално време. (<em
                    >Подсказка:</em
                  >
                  <code>'input'</code> събитие и
                  <code>element.value.length</code>).
                </div>
              </details>
              <details>
                <summary>10. Клавиатурно събитие</summary>
                <div class="task-content">
                  Направете така, че когато потребителят натисне клавиша
                  "Escape" където и да е на страницата, фонът да става
                  светлосив. (<em>Подсказка:</em> слушайте за
                  <code>'keydown'</code> събитие на <code>document</code> и
                  проверявайте <code>event.key</code>).
                </div>
              </details>
            </div>
          </section>
        </div>
      </main>

      <div class="nav-buttons-container">
        <a href="index3.html" class="nav-button prev">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            viewBox="0 0 20 20"
            fill="currentColor"
          >
            <path
              fill-rule="evenodd"
              d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z"
              clip-rule="evenodd"
            />
          </svg>
          Към предишния урок
        </a>
        <a href="index5.html" class="nav-button next">
          Към следващия урок
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            viewBox="0 0 20 20"
            fill="currentColor"
          >
            <path
              fill-rule="evenodd"
              d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
              clip-rule="evenodd"
            />
          </svg>
        </a>
      </div>

      <footer class="text-center mt-8 text-gray-500">
        <p>&copy; 2024 Интерактивен JavaScript Урок. инж. Пламена Янева</p>
      </footer>
    </div>

    <!-- Всички скриптове за интерактивност са тук -->
    <script>
      // Пример 1: Промяна на текст
      const changeTextBtn = document.getElementById("changeTextBtn");
      const textToChange = document.getElementById("text-to-change");
      changeTextBtn.addEventListener("click", function () {
        textToChange.textContent = "Уау! Текстът се промени с JavaScript!";
        textToChange.style.color = "#16a34a";
        textToChange.style.fontWeight = "bold";
      });

      // Секция за напреднали: querySelector
      const selectorInput = document.getElementById("selectorInput");
      const applyStyleBtn = document.getElementById("applyStyleBtn");
      let lastStyledElement = null;
      applyStyleBtn.addEventListener("click", function () {
        if (lastStyledElement) {
          lastStyledElement.style.outline = "";
        }
        const selector = selectorInput.value;
        if (selector) {
          try {
            const selectedElement = document.querySelector(selector);
            if (selectedElement) {
              selectedElement.style.outline = "3px solid #ef4444";
              lastStyledElement = selectedElement;
              selectedElement.scrollIntoView({
                behavior: "smooth",
                block: "center",
              });
            } else {
              alert("Не е намерен елемент с този селектор.");
            }
          } catch (e) {
            alert("Невалиден CSS селектор.");
          }
        }
      });

      // Секция за напреднали: To-Do List
      const todoInput = document.getElementById("todoInput");
      const addTodoBtn = document.getElementById("addTodoBtn");
      const todoList = document.getElementById("todoList");
      function addTask() {
        const taskText = todoInput.value.trim();
        if (taskText !== "") {
          const newLi = document.createElement("li");
          newLi.className =
            "p-3 bg-gray-100 rounded cursor-pointer hover:bg-gray-200 flex justify-between items-center transition-all duration-300";
          const span = document.createElement("span");
          span.textContent = taskText;
          const deleteBtn = document.createElement("button");
          deleteBtn.textContent = "❌";
          deleteBtn.className =
            "text-xs hover:bg-red-200 p-1 rounded opacity-50 hover:opacity-100";
          deleteBtn.addEventListener("click", function (event) {
            event.stopPropagation();
            newLi.classList.add("opacity-0", "translate-x-4");
            setTimeout(() => todoList.removeChild(newLi), 300);
          });
          newLi.addEventListener("click", function () {
            span.classList.toggle("line-through");
            span.classList.toggle("text-gray-400");
          });
          newLi.appendChild(span);
          newLi.appendChild(deleteBtn);
          todoList.appendChild(newLi);
          todoInput.value = "";
        }
      }
      addTodoBtn.addEventListener("click", addTask);
      todoInput.addEventListener("keyup", function (event) {
        if (event.key === "Enter") {
          addTask();
        }
      });

      // Секция за напреднали: Mouseover
      const hoverBox = document.getElementById("hoverBox");
      hoverBox.addEventListener("mouseover", function () {
        hoverBox.style.transform = "rotate(15deg) scale(1.2)";
        hoverBox.style.backgroundColor = "#ec4899";
        hoverBox.textContent = "Супер!";
      });
      hoverBox.addEventListener("mouseout", function () {
        hoverBox.style.transform = "rotate(0deg) scale(1)";
        hoverBox.style.backgroundColor = "#818cf8";
        hoverBox.textContent = "Мини с мишката отгоре!";
      });

      // Функция за добавяне на бутони за копиране
      document.querySelectorAll("pre").forEach((preElement) => {
        const codeBlock = preElement.querySelector("code");
        if (codeBlock) {
          const copyBtn = document.createElement("button");
          copyBtn.innerText = "Копирай";
          copyBtn.className = "copy-btn";
          preElement.appendChild(copyBtn);
          copyBtn.addEventListener("click", () => {
            const codeToCopy = codeBlock.innerText;
            const textArea = document.createElement("textarea");
            textArea.value = codeToCopy;
            document.body.appendChild(textArea);
            textArea.select();
            try {
              document.execCommand("copy");
              copyBtn.innerText = "Копирано!";
            } catch (err) {
              copyBtn.innerText = "Грешка";
              console.error("Неуспешно копиране: ", err);
            }
            document.body.removeChild(textArea);
            setTimeout(() => {
              copyBtn.innerText = "Копирай";
            }, 2000);
          });
        }
      });
    </script>
  </body>
</html>
